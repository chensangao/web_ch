<!--
 * @Description: 
 * @Author: chenhao
 * @Date: 2020-08-23 17:37:43
 * @LastEditTime: 2020-08-23 17:55:34
 * @LastEditors: chenhao
-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ajax相关</title>
</head>

<body>
    <script about='AJAX的优点和缺点'>
        /*
        Ajax的给我们带来的好处大家基本上都深有体会，在这里我只简单的讲几点：

        1、最大的一点是页面无刷新，在页面内与服务器通信，给用户的体验非常好。
        2、使用异步方式与服务器通信，不需要打断用户的操作，具有更加迅速的响应能力。
        3、可以把以前一些服务器负担的工作转嫁到客户端，利用客户端闲置的能力来处理，
            减轻服务器和带宽的负担，节约空间和宽带租用成本。
            并且减轻服务器的负担，ajax的原则是“按需取数据”，可以最大程度的减少冗余请求，和响应对服务器造成的负担。
        4、基于标准化的并被广泛支持的技术，不需要下载插件或者小程序。
        */

        /*
        下面我着重讲一讲ajax的缺陷，因为平时我们大多注意的都是ajax给我们所带来的好处诸如用户体验的提升。
        而对ajax所带来的缺陷有所忽视。

        下面所阐述的ajax的缺陷都是它先天所产生的。

        1、ajax干掉了back按钮，即对浏览器后退机制的破坏。

        后退按钮是一个标准的web站点的重要功能，但是它没法和js进行很好的合作。
        这是ajax所带来的一个比较严重的问题，因为用户往往是希望能够通过后退来取消前一次操作的。
        那么对于这个问题有没有办法？答案是肯定的，用过Gmail的知道，Gmail下面采用的ajax技术解决了这个问题，
        在Gmail下面是可以后退的，但是，它也并不能改变ajax的机制，它只是采用的一个比较笨但是有效的办法，
        即用户单击后退按钮访问历史记录时，通过创建或使用一个隐藏的IFRAME来重现页面上的变更。
        （例如，当用户在Google Maps中单击后退时，它在一个隐藏的IFRAME中进行搜索，然后将搜索结果反映到Ajax元素上，
        以便将应用程序状态恢复到当时的状态。）

        但是，虽然说这个问题是可以解决的，但是它所带来的开发成本是非常高的，和ajax框架所要求的快速开发是相背离的。
        这是ajax所带来的一个非常严重的问题。

        2、安全问题

        技术同时也对IT企业带来了新的安全威胁，ajax技术就如同对企业数据建立了一个直接通道。
        这使得开发者在不经意间会暴露比以前更多的数据和服务器逻辑。
        ajax的逻辑可以对客户端的安全扫描技术隐藏起来，允许黑客从远端服务器上建立新的攻击。
        还有ajax也难以避免一些已知的安全弱点，诸如跨站点脚本攻击、SQL注入攻击和基于credentials的安全漏洞等。

        3、对搜索引擎的支持比较弱。

        4、破坏了程序的异常机制。

        至少从目前看来，像ajax.dll，ajaxpro.dll这些ajax框架是会破坏程序的异常机制的。
        关于这个问题，我曾经在开发过程中遇到过，但是查了一下网上几乎没有相关的介绍。
        后来我自己做了一次试验，分别采用ajax和传统的form提交的模式来删除一条数据……给我们的调试带来了很大的困难。

        5、另外，像其他方面的一些问题，比如说违背了url和资源定位的初衷。
        例如，我给你一个url地址，如果采用了ajax技术，也许你在该url地址下面看到的和我在这个url地址下看到的内容是不同的。
        这个和资源定位的初衷是相背离的。

        6、一些手持设备（如手机、PDA等）现在还不能很好的支持ajax，比如说我们在手机的浏览器上打开采用ajax技术的网站时，
        它目前是不支持的，当然，这个问题和我们没太多关系。
        */
    </script>

    <script about='AJAX 的几种框架'>
        /*
        jQuery
        jQuery 是一个快速、简洁的JavaScript框架

        jQuery 是对原生XHR的封装，另外还增加了jsonp的支持，让ajax请求可以支持跨域请求，

        但是要注意的是：jsonp请求本质不是XHR异步请求，就是请求了一个js文件，因此在浏览器的network面板中的xhr标签下看不到jsonp的跨域请求，但是在js标签下能看见，因为它利用src特性请求任何一个网站的资源。

        Axios
        特性
        从浏览器中创建 XMLHttpRequest
        从 node.js 发出 http 请求
        支持 Promise API
        拦截请求和响应
        转换请求和响应数据
        取消请求
        自动转换JSON数据
        客户端支持防止 CSRF/XSRF

        fetch
        Fetch API 是近年来被提及将要取代XHR的技术新标准，是一个 HTML5 的 API。

        Fetch 并不是XHR的升级版本，而是从一个全新的角度来思考的一种设计。

        Fetch 是基于 Promise 语法结构，而且它的设计足够低阶，这表示它可以在实际需求中进行更多的弹性设计。对于XHR所提供的能力来说，Fetch 已经足够取代XHR，并且提供了更多拓展的可能性。
        */
    </script>

    <script about='get&post'>
        /*
问题
JavaScript get为什么比post性能好，php/node都用一个东西接收post和get请求，怎么解释get比post性能好

答案
所以如果你希望

请求中的URL可以被手动输入

请求中的URL可以被存在书签里，或者历史里，或者快速拨号里面，或者分享给别人。

请求中的URL是可以被搜索引擎收录的。

带云压缩的浏览器，比如Opera mini/Turbo 2, 只有GET才能在服务器端被预取的。

请求中的URL可以被缓存。

请使用GET.

HTTP请求方式
get 从服务器获取
post 向服务器发送
注册页面:用户填完信息,有很多的信息,我们把这些信息都获取到,然后通过Ajax中的POST请求,在请求主体中把这些信息都传递给后台服务器,服务器把这些信息存储到数据库中(“表单提交”)
put 增加
delete 删除
head、options、trace、connection、track…
get系的特征(get、delete、head)
1、会把给服务器发送的数据放到url后面 ->http://matchweb.sports.qq.com/kbs/hotMatchList?callback=getHotMatchList&_=1456903174906 “?后面写的内容都是同过get请求传递给服务器的”

2、有大小限制

因为get系把数据都放到url里面，而浏览器会对url的长度有大小限制， 所以造成了get系对传输的数据大小有限制
ie->2K
firefox->7k
chrome->8k
3、会被缓存(服务器和浏览器自带的缓存)

我们一般不用缓存,因为自带的缓存很多情况导致,第二次请求的内容一直和第一次一样,最新的内容请求不回来
如果想要快,我们做的所有的缓存都是自己单独用程序设计出来的而不是浏览器自带的缓存机制
4、不安全,因为明文发送

在浏览器的控制台中我们可以查看到URL后面的参数值,所以不安全
post系(post、put)
1、会把给服务器发送的数据放到请求主体里
2、不会有大小限制
因为post系把数据放到请求主体里，而请求主体是没有大小限制的
3、永远不会被缓存
4、相对于get系安全许多,因为不是明文发送
为什么get系会被缓存而post系不会被缓存?
1、因为get系设计的初衷是用来从服务器拉取数据的。含有两个特点：

数据可能很大，数据可能会重复。正因为有这两个特点，所以造成了get系会被缓存
post系设计的初衷是往服务器发送数据的,所以不需要缓存
HEAD、DELETE这两个方法比较特殊：他们成功只返回202，不会返回200
        */
    </script>

</body>

</html>